{"version":3,"sources":["01_main.js"],"names":["game","document","getElementById","root","getContext","scoreCurrent","gameSetting","score","grip","Snake","x","y","cells","startCells","size","dx","dy","Apply","console","log","width","scoreDocument","randomApply","max","Math","floor","random","gameOver","alert","location","reload","clearInterval","interval","collision","height","innerHTML","j","drawApply","beginPath","rect","fillStyle","fill","closePath","drawSnake","unshift","i","createRect","draw","clearRect","addEventListener","e","keyActive","target","keyCode","setInterval"],"mappings":"AAAA,IAAIA,KAAOC,SAASC,eAAe,gBAC/BC,KAAOH,KAAKI,WAAW,MAEvBC,aAAe,EACfC,YAAc,CAChBC,MAAQ,EACRC,KAAO,IAGLC,MAAQ,CACVC,EAAG,IACHC,EAAG,IACHC,MAAO,GACPC,WAAW,EACXC,KAAM,GACNC,GAAI,EACJC,GAAI,GAGFC,MAAQ,CACVH,KAAM,GACNJ,EAAI,IACJC,EAAI,KAGNO,QAAQC,IAAInB,KAAKoB,OAEjB,IAAIC,cAAgBpB,SAASC,eAAe,SA+B5C,SAASoB,YAAYC,EAAI,IACvB,OAAOC,KAAKC,MAAMD,KAAKE,SAAWH,GAGpC,SAASI,WACPC,MAAM,eAAetB,YAAYC,OACjCN,SAAS4B,SAASC,SAClBC,cAAcC,UAGhB,SAASC,aACHjC,KAAKoB,MAAQX,MAAMC,EAAID,MAAMK,MAC/B,EAAIL,MAAMC,GACVV,KAAKkC,OAAUzB,MAAME,EAAIF,MAAMK,MAC/B,EAAIL,MAAME,IACRgB,WAEDlB,MAAMC,IAAMO,MAAMP,GAAKD,MAAME,IAAMM,MAAMN,IAC1CM,MAAMP,EAAEY,cAAchB,YAAYE,KAClCS,MAAMN,EAAEW,cAAchB,YAAYE,KAClCC,MAAMI,aACNQ,cAAcc,YAAc7B,YAAYC,OAE1C,IAAK,IAAI6B,EAAI,EAAGA,EAAI3B,MAAMI,WAAYuB,IAC/B3B,MAAMG,MAAM,GAAGF,IAAMD,MAAMG,MAAMwB,GAAG1B,GAAKD,MAAMG,MAAM,GAAGD,IAAMF,MAAMG,MAAMwB,GAAGzB,GAC5EgB,WAOV,SAASU,YACPlC,KAAKmC,YACLnC,KAAKoC,KAAKtB,MAAMP,EAAGO,MAAMN,EAAGM,MAAMH,KAAMG,MAAMH,MAC9CX,KAAKqC,UAAY,OACjBrC,KAAKsC,OACLtC,KAAKuC,YAMP,SAASC,YACPxC,KAAKmC,YACLnC,KAAKqC,UAAY,QACjB/B,MAAMG,MAAMgC,QAAQ,CAAClC,EAAED,MAAMC,EAAGC,EAAEF,MAAME,IACxCR,KAAKoC,KAAK9B,MAAMC,EAAGD,MAAME,EAAGF,MAAMK,KAAO,EAAGL,MAAMK,KAAO,GACzD,IAAK,IAAI+B,EAAI,EAAGA,EAAIpC,MAAMI,WAAYgC,IACpCC,WAAWrC,MAAMG,MAAMiC,GAAGnC,EAAED,MAAMG,MAAMiC,GAAGlC,EAAEF,MAAMK,KAAO,EAAEL,MAAMK,KAAO,GAE3EX,KAAKsC,OACLtC,KAAKuC,YAGP,SAASI,WAAWpC,EAAEC,EAAES,EAAMc,GAC3B/B,KAAKoC,KAAK7B,EAAGC,EAAGS,EAAOc,GAG1B,SAASa,OACP5C,KAAK6C,UAAU,EAAG,EAAGhD,KAAKoB,MAAOpB,KAAKkC,QACtCS,YACAV,YACAI,YACA5B,MAAMC,GAAID,MAAMM,GAChBN,MAAME,GAAIF,MAAMO,GA/FlBK,cAAcc,UAAY7B,YAAYC,MAItCN,SAASgD,iBAAiB,WAAU,SAASC,GAC3CC,UAAUD,EAAEE,OACM,KAAdF,EAAEG,UAEJ5C,MAAMM,IAAMN,MAAMK,KAClBL,MAAMO,GAAI,GAGM,KAAdkC,EAAEG,UAEJ5C,MAAMM,GAAK,EACXN,MAAMO,IAAMP,MAAMK,MAEF,KAAdoC,EAAEG,UAEJ5C,MAAMM,GAAKN,MAAMK,KACjBL,MAAMO,GAAK,GAEK,KAAdkC,EAAEG,UAEJ5C,MAAMM,GAAK,EACXN,MAAMO,GAAKP,MAAMK,SAEnB,GAyEF,IAAIkB,SAAWsB,YAAYP,KAAM,KAAQ,GAAuB,EAAlBzC,YAAYC","file":"../js/main.min.js","sourcesContent":["let game = document.getElementById(\"game__canvas\");\nlet root = game.getContext(\"2d\");\n\nlet scoreCurrent = 0;\nlet gameSetting = {\n  score : 0,\n  grip : 20,\n};\n\nlet Snake = {\n  x: 220,\n  y: 220,\n  cells: [],\n  startCells:1,\n  size: 20,\n  dx: 0,\n  dy: 0,\n};\n\nlet Apply = {\n  size: 20,\n  x : 120,\n  y : 120\n};\n\nconsole.log(game.width);\n\nvar scoreDocument = document.getElementById(\"score\");\nscoreDocument.innerHTML = gameSetting.score;\n\n\n\ndocument.addEventListener('keydown',function(e){\n  keyActive=e.target;\n   if(e.keyCode === 37) {\n    //ArrowLeft\n    Snake.dx = -Snake.size;\n    Snake.dy =0;\n    \n   }\n   if(e.keyCode === 38) {\n    //ArrowUp\n    Snake.dx = 0;\n    Snake.dy = -Snake.size;\n   }\n   if(e.keyCode === 39) {\n    //ArrowRight\n    Snake.dx = Snake.size;\n    Snake.dy = 0;\n   }\n   if(e.keyCode === 40) {\n    //ArrowDown\n    Snake.dx = 0;\n    Snake.dy = Snake.size;\n   }\n},false);\n\n\nfunction randomApply(max=24){\n  return Math.floor(Math.random() * max);\n}\n\nfunction gameOver(){\n  alert(`Your score: ${gameSetting.score}`);\n  document.location.reload();\n  clearInterval(interval); \n}\n\nfunction collision(){\n  if( game.width < Snake.x + Snake.size||\n    0 > Snake.x ||\n    game.height  < Snake.y + Snake.size ||\n    0 > Snake.y ){\n      gameOver();\n  }\n  if(Snake.x === Apply.x && Snake.y === Apply.y){\n    Apply.x=randomApply()*gameSetting.grip;\n    Apply.y=randomApply()*gameSetting.grip;\n    Snake.startCells++;\n    scoreDocument.innerHTML = ++gameSetting.score;\n  }\n  for (let j = 1; j < Snake.startCells; j++) {\n      if(Snake.cells[0].x === Snake.cells[j].x && Snake.cells[0].y === Snake.cells[j].y) {\n          gameOver();\n      }\n  }\n}\n\n\n\nfunction drawApply(){\n  root.beginPath();\n  root.rect(Apply.x, Apply.y, Apply.size, Apply.size);\n  root.fillStyle = \"#f00\";\n  root.fill();\n  root.closePath();\n\n}\n\n\n\nfunction drawSnake() {\n  root.beginPath();\n  root.fillStyle = \"green\";\n  Snake.cells.unshift({x:Snake.x, y:Snake.y});\n  root.rect(Snake.x, Snake.y, Snake.size - 1, Snake.size - 1);\n  for (let i = 0; i < Snake.startCells; i++) {\n    createRect(Snake.cells[i].x,Snake.cells[i].y,Snake.size - 1,Snake.size - 1); \n  }\n  root.fill();\n  root.closePath();\n}\n\nfunction createRect(x,y,width,height){\n   root.rect(x, y, width, height);\n}\n\nfunction draw() {\n  root.clearRect(0, 0, game.width, game.height);\n  drawSnake();\n  collision();\n  drawApply();\n  Snake.x+= Snake.dx;\n  Snake.y+= Snake.dy;\n}\n\n\n\nvar interval = setInterval(draw, 1000 / (10 + gameSetting.score*2));"]}