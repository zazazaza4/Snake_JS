let game=document.getElementById("game__canvas"),root=game.getContext("2d"),Records={};function main(){let e={score:0,grip:20,speed:13},t={x:220,y:220,cells:[],startCells:1,size:20,dx:0,dy:0},o={size:20,x:120,y:120},r=prompt("Enter your name, please:","");null!==r&&""!==r||(r="Player"),document.addEventListener("keydown",(function(e){keyActive=e.target,37!==e.keyCode&&65!==e.keyCode||(t.dx=-t.size,t.dy=0),38!==e.keyCode&&87!==e.keyCode||(t.dx=0,t.dy=-t.size),39!==e.keyCode&&68!==e.keyCode||(t.dx=t.size,t.dy=0),40!==e.keyCode&&83!==e.keyCode||(t.dx=0,t.dy=t.size)}),!1);let l=document.getElementById("score");function s(e=24){return Math.floor(Math.random()*e)}function i(){for(;ul.firstChild;)ul.removeChild(ul.firstChild);let e=new DocumentFragment,t=0,o=(r=Records,Object.entries(r).sort(([,e],[,t])=>t-e).reduce((e,[t,o])=>({...e,[t]:o}),{}));var r;for(let r in o){let l=document.createElement("li");l.append(` ${t+1}. ${r} : ${o[r]} `),e.append(l),t++}return e}function n(){if(Records[r]>0){let t=Records[r];Records[r]<e.score?Records[r]=e.score:Records[r]=t}else Records[r]=e.score;ul.append(i()),main(),clearInterval(d)}l.innerHTML=e.score;let d=setInterval((function(){root.clearRect(0,0,game.width,game.height),function(){root.beginPath(),root.fillStyle="green",t.cells.unshift({x:t.x,y:t.y}),root.rect(t.x,t.y,t.size-1,t.size-1);for(let s=0;s<t.startCells;s++)e=t.cells[s].x,o=t.cells[s].y,r=t.size-1,l=t.size-1,root.rect(e,o,r,l);var e,o,r,l;root.fill(),root.closePath()}(),function(){game.width<t.x+t.size?t.x=-t.size:0>t.x?t.x=game.width:game.height<t.y+t.size?t.y=-t.size:0>t.y&&(t.y=game.height),t.x===o.x&&t.y===o.y&&(o.x=s()*e.grip,o.y=s()*e.grip,t.startCells++,l.innerHTML=++e.score);for(let e=1;e<t.startCells;e++)t.cells[0].x===t.cells[e].x&&t.cells[0].y===t.cells[e].y&&n()}(),root.beginPath(),root.rect(o.x,o.y,o.size,o.size),root.fillStyle="#f00",root.fill(),root.closePath(),t.x+=t.dx,t.y+=t.dy}),1e3/e.speed)}main();
//# sourceMappingURL=../sourcemaps/main.min.js.map
